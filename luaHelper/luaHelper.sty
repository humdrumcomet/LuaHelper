\ProvidesPackage{luaHelper}
\RequirePackage{luacode}
\RequirePackage{siunitx}

\directlua{
    local sourcefile = kpse.find_file('luaHelper.sty')
    local packagePath = string.match(sourcefile, '(.*/)')
    import = require(packagePath..'luaHelper')
}
\newcommand\luVal[2][empty]{%
    \directlua{
        local optsTable = optsToTable([[#1]])
        tex.sprint(formatNum(#2,#1))
    }%
}
\newcommand\siluVal[3][empty]{%
    \SI{\directlua{
        local optsTable = optsToTable([[#1]])
        tex.sprint(formatNum(#2,optsTable))
    }}{#3}%
}

\newcommand\printLuaData[2][empty]{
    \directlua{
        local optsTable = optsToTable([[#1]])
        printData(#2, optsTable)
    }%
}

\newcommand\printDataTable[2][empty]{
    \directlua{
        local optsTable = optsToTable([[#1]])
        printTable(#2, optsTable)
    }%
}

